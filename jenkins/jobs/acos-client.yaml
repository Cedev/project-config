
- project:
    name: acos-client
    github-url: https://github.com/a10networks/acos-client
    node: bare-trusty

    jobs:
        - python-jobs
        - python-pull-request-jobs
        - master-acos-client-py26
        - master-acos-client-pypy
        - pulls-acos-client-py26
        - pulls-acos-client-pypy

- project:
    name: acos-client-dsvm
    github-url: https://github.com/a10networks/acos-client
    node: devstack-trusty

    a10-neutron-lbaas-git: ''
    acos-client-git: 'https://github.com/a10networks/acos-client.git'
    branch-override: default
    lbaastest: api

    acos-version:
        - '272'
        - '401'
    lbaasversion:
        - 'lbaasv1'
        - 'lbaasv2'
    which:
        - 'master-acos-client'
        - 'pulls-acos-client'

    jobs:
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            job-suffix: ''
            devstack-branch: master
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            job-suffix: '-kilo'
            devstack-branch: 'stable/kilo'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            job-suffix: '-liberty'
            devstack-branch: 'stable/liberty'

- job:
    name: batch-master-acos-client
    project-type: multijob
    node: master

    properties:
        - github:
            url: 'https://github.com/a10networks/acos-client'

    triggers:
        - github

    builders:
        - multijob:
            name: bare-phase
            condition: SUCCESSFUL
            projects:
                - name: master-acos-client-pep8
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-python26
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-python27
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-pypy
                  current-parameters: true
                  git-revision: true
        - multijob:
            name: dsvm-phase
            condition: SUCCESSFUL
            projects:
                - name: master-acos-client-lbaasv1-dsvm-api-acos-272
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv1-dsvm-api-acos-272-liberty
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv1-dsvm-api-acos-272-kilo
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv1-dsvm-api-acos-401
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv1-dsvm-api-acos-401-liberty
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv1-dsvm-api-acos-401-kilo
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-272
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-272-liberty
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-272-kilo
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-401
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-401-liberty
                  current-parameters: true
                  git-revision: true
                - name: master-acos-client-lbaasv2-dsvm-api-acos-401-kilo
                  current-parameters: true
                  git-revision: true

- job:
    name: pulls-batch-acos-client
    project-type: multijob
    node: master

    properties:
        - github:
            url: 'https://github.com/a10networks/acos-client'

    triggers:
        - github-pull-requests

    builders:
        - multijob:
            name: base-phase
            condition: SUCCESSFUL
            projects:
                - name: pulls-acos-client-pep8
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-python26
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-python27
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-pypy
                  current-parameters: true
                  git-revision: true
        - multijob:
            name: dsvm-phase
            condition: SUCCESSFUL
            projects:
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-272
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-272-liberty
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-272-kilo
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-401
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-401-liberty
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv1-dsvm-api-acos-401-kilo
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-272
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-272-liberty
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-272-kilo
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-401
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-401-liberty
                  current-parameters: true
                  git-revision: true
                - name: pulls-acos-client-lbaasv2-dsvm-api-acos-401-kilo
                  current-parameters: true
                  git-revision: true
