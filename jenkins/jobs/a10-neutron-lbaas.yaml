
- project:
    name: a10-neutron-lbaas
    github-url: https://github.com/a10networks/a10-neutron-lbaas
    node: bare-trusty

    jobs:
        - '{which}-{name}-pep8':
            which: master
            refspec: '+refs/heads/*:refs/remotes/origin/*'
            branch-specifier: '**'
            properties:
                - github:
                    url: dummy
            scm:
                - git:
                    url: dummy
        - '{which}-{name}-pep8':
            which: pulls
            refspec: '+refs/pull/*:refs/remotes/origin/pr/*'
            branch-specifier: '${{sha1}}'
            properties:
                - github:
                    url: dummy
            scm:
                - git:
                    url: dummy
        - '{which}-{name}-python27':
            which: master
            refspec: '+refs/heads/*:refs/remotes/origin/*'
            branch-specifier: '**'
            properties:
                - github:
                    url: dummy
            scm:
                - git:
                    url: dummy
        - '{which}-{name}-python27':
            which: pulls
            refspec: '+refs/pull/*:refs/remotes/origin/pr/*'
            branch-specifier: '${{sha1}}'
            properties:
                - github:
                    url: dummy
            scm:
                - git:
                    url: dummy

        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: ''
            branch-override: default
            lbaasversion: lbaasv1
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: master
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-liberty'
            branch-override: 'stable/liberty'
            lbaasversion: lbaasv1
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/liberty'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-kilo'
            branch-override: 'stable/kilo'
            lbaasversion: lbaasv1
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/kilo'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: ''
            branch-override: default
            lbaasversion: lbaasv1
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: master
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-liberty'
            branch-override: 'stable/liberty'
            lbaasversion: lbaasv1
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/liberty'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-kilo'
            branch-override: 'stable/kilo'
            lbaasversion: lbaasv1
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/kilo'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'

        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: ''
            branch-override: default
            lbaasversion: lbaasv2
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: master
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-liberty'
            branch-override: 'stable/liberty'
            lbaasversion: lbaasv2
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/liberty'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-kilo'
            branch-override: 'stable/kilo'
            lbaasversion: lbaasv2
            axapi-version: '2.1'
            acos-version: '272'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/kilo'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: ''
            branch-override: default
            lbaasversion: lbaasv2
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: master
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-liberty'
            branch-override: 'stable/liberty'
            lbaasversion: lbaasv2
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/liberty'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'
        - '{which}-{lbaasversion}-dsvm-{lbaastest}-acos-{acos-version}{job-suffix}':
            node: devstack-trusty
            job-suffix: '-kilo'
            branch-override: 'stable/kilo'
            lbaasversion: lbaasv2
            axapi-version: '3.0'
            acos-version: '401'
            lbaastest: api
            which: 'master-a10-neutron-lbaas'
            zuul-branch: 'stable/kilo'
            acos-client-git: ''
            a10-neutron-lbaas-git: 'https://github.com/a10networks/a10-neutron-lbaas.git'

- job:
    name: batch-master-a10-neutron-lbaas
    project-type: multijob
    node: master

    properties:
        - github:
            url: 'https://github.com/a10networks/a10-neutron-lbaas'

    triggers:
        - github

    builders:
        - multijob:
            name: bare-phase
            condition: SUCCESSFUL
            projects:
                - name: master-a10-neutron-lbaas-pep8
                  current-parameters: true
                  git-revision: true
                - name: master-a10-neutron-lbaas-python27
                  current-parameters: true
                  git-revision: true
                - name: master-a10-neutron-lbaas-lbaasv1-dsvm-api-acos-272
                  current-parameters: true
                  git-revision: true

- job:
    name: pulls-batch-a10-neutron-lbaas
    project-type: multijob
    node: master

    properties:
        - github:
            url: 'https://github.com/a10networks/a10-neutron-lbaas'

    triggers:
        - github-pull-requests

    builders:
        - multijob:
            name: base-phase
            condition: SUCCESSFUL
            projects:
                - name: pulls-a10-neutron-lbaas-pep8
                  current-parameters: true
                  git-revision: true
                - name: pulls-a10-neutron-lbaas-python27
                  current-parameters: true
                  git-revision: true
